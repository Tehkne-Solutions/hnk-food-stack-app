# ğŸ—ï¸ Arquitetura - ProductCard v2.0 & Analytics

## ğŸ“ Fluxo de Dados Completo

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     PÃGINA: /bem-estar                          â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           ProductCard.tsx (Elite Edition)                â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  Image   â”‚      â”‚  Badge   â”‚      â”‚ Social Proof â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Framer   â”‚      â”‚ + Flame  â”‚      â”‚ "20+ pedidos"â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Motion   â”‚      â”‚ Icon     â”‚      â”‚ Today        â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚       â”‚                                                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚         Product Info                             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Name: Fraldinha Premium                       â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Price: R$ 89,90 (formatado)                  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Description: "Macia e suculenta"             â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚       â”‚                                                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚        Add to Cart Button (FireButton)           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚     whileTap={{ scale: 0.98 }}                  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚     onClick â†’ handleAddClick()                  â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚          â”‚                                                     â”‚
â”‚          â–¼                                                     â”‚
â”‚   handleAddClick()                                            â”‚
â”‚          â”‚                                                     â”‚
â”‚          â”œâ”€â”€â–º handleTrackClick()                             â”‚
â”‚          â”‚         â”‚                                          â”‚
â”‚          â”‚         â”œâ”€â–º trackAddToCart()                      â”‚
â”‚          â”‚         â”‚         â”‚                               â”‚
â”‚          â”‚         â”‚         â”œâ”€â”€â–º gtag('event', 'add_to_cart')
â”‚          â”‚         â”‚         â”‚         â””â”€â–º Google Analytics 4
â”‚          â”‚         â”‚         â”‚                               â”‚
â”‚          â”‚         â”‚         â””â”€â”€â–º fbq('track', 'AddToCart')  â”‚
â”‚          â”‚         â”‚                 â””â”€â–º Meta Pixel          â”‚
â”‚          â”‚         â”‚                                         â”‚
â”‚          â”‚         â””â”€â–º buildUtmLink()                        â”‚
â”‚          â”‚                 â”‚                                 â”‚
â”‚          â”‚                 â””â”€â–º URL com UTM params           â”‚
â”‚          â”‚                     utm_source=hnk_food_stack     â”‚
â”‚          â”‚                     utm_medium=mobile_app         â”‚
â”‚          â”‚                     utm_campaign=churrascaria... â”‚
â”‚          â”‚                     utm_content=fraldinha         â”‚
â”‚          â”‚                                                    â”‚
â”‚          â””â”€â”€â–º onAddToCart()                                 â”‚
â”‚                 â”‚                                            â”‚
â”‚                 â””â”€â–º useCart hook                            â”‚
â”‚                     â””â”€â–º Zustand store                       â”‚
â”‚                         â””â”€â–º localStorage (sync)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ANALYTICS INFRASTRUCTURE                       â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  app/layout.tsx - Root Layout                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ Google Tag Manager Script                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Container: GTM-XXXXXXX (env var)               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ dataLayer global window object                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Injetado apÃ³s interaÃ§Ã£o do usuÃ¡rio            â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                       â”‚                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ Meta Pixel Base Code                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Pixel ID: 123456789 (env var)                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ window.fbq global function                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Rastreia PageView automaticamente             â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  src/lib/analytics.ts - Utilities                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ buildUtmLink(baseUrl, params)                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â†’ ConstrÃ³i URL com UTM parameters             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â†’ Usada em links de CTA                       â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ trackEvent(eventName, data)                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â†’ Envia para Google Analytics 4             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â†’ gtag('event', eventName, data)           â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ trackPixelEvent(eventName, data)        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â†’ Envia para Meta Pixel                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â†’ fbq('track', eventName, data)        â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ trackAddToCart(productData)          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â†’ Duplo rastreamento                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â†’ GA4 + Meta juntos                â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ trackViewContent(productData)    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â†’ ViewContent event              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â†’ GA4 + Meta                     â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  src/utils/social-proof.ts - Urgency Generator      â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ generateSocialProof(productId, baseCount)      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â†’ NÃºmero entre baseCount e +30                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â†’ Usado no badge do ProductCard               â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ getUrgencyLevel(salesCount)                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â†’ 'low' | 'medium' | 'high' | 'burning'    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â†’ Baseado no nÃºmero de vendas              â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ getUrgencyBadge(urgency)                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â†’ Emoji + texto descritivo              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â†’ "ğŸ”¥ Bastante procurado"              â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               EVENTS EMITTED TO PLATFORMS                      â”‚
â”‚                                                                 â”‚
â”‚  Google Analytics 4                                            â”‚
â”‚  â”œâ”€ event: 'page_view'              (automÃ¡tico)               â”‚
â”‚  â”œâ”€ event: 'view_item'              (ProductCard click)       â”‚
â”‚  â”‚  â””â”€ content_type: 'product'                               â”‚
â”‚  â”‚  â””â”€ item_id: 'fraldinha-001'                              â”‚
â”‚  â”‚  â””â”€ item_name: 'Fraldinha Premium'                        â”‚
â”‚  â”‚  â””â”€ value: 89.90                                          â”‚
â”‚  â”‚  â””â”€ currency: 'BRL'                                       â”‚
â”‚  â”‚                                                            â”‚
â”‚  â”œâ”€ event: 'add_to_cart'            (Adicionar button)       â”‚
â”‚  â”‚  â””â”€ content_type: 'product'                               â”‚
â”‚  â”‚  â””â”€ item_id: 'fraldinha-001'                              â”‚
â”‚  â”‚  â””â”€ item_name: 'Fraldinha Premium'                        â”‚
â”‚  â”‚  â””â”€ value: 89.90                                          â”‚
â”‚  â”‚  â””â”€ currency: 'BRL'                                       â”‚
â”‚  â”‚                                                            â”‚
â”‚  â””â”€ UTM parameters em links                                  â”‚
â”‚     â””â”€ utm_source, utm_medium, utm_campaign, utm_content     â”‚
â”‚                                                              â”‚
â”‚  Meta Pixel                                                   â”‚
â”‚  â”œâ”€ event: 'PageView'               (automÃ¡tico)              â”‚
â”‚  â”œâ”€ event: 'ViewContent'            (ProductCard click)      â”‚
â”‚  â”‚  â””â”€ content_name: 'Fraldinha Premium'                    â”‚
â”‚  â”‚  â””â”€ content_type: 'product'                              â”‚
â”‚  â”‚  â””â”€ value: 89.90                                         â”‚
â”‚  â”‚  â””â”€ currency: 'BRL'                                      â”‚
â”‚  â”‚                                                           â”‚
â”‚  â””â”€ event: 'AddToCart'             (Adicionar button)       â”‚
â”‚     â””â”€ content_name: 'Fraldinha Premium'                   â”‚
â”‚     â””â”€ content_type: 'product'                             â”‚
â”‚     â””â”€ value: 89.90                                        â”‚
â”‚     â””â”€ currency: 'BRL'                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ENVIRONMENT VARIABLES (.env.local)                  â”‚
â”‚                                                                 â”‚
â”‚  # Marketing & Analytics                                      â”‚
â”‚  NEXT_PUBLIC_GTM_ID=GTM-XXXXXXX          â† Google Tag Mgr    â”‚
â”‚  NEXT_PUBLIC_PIXEL_ID=123456789          â† Meta Pixel        â”‚
â”‚  NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX          â† Google Analytics  â”‚
â”‚                                                                 â”‚
â”‚  # Database                                                    â”‚
â”‚  NEXT_PUBLIC_SUPABASE_URL=https://...    â† Supabase DB      â”‚
â”‚  NEXT_PUBLIC_SUPABASE_ANON_KEY=...       â† Public key       â”‚
â”‚  SUPABASE_SERVICE_ROLE_KEY=...           â† Admin key        â”‚
â”‚                                                                 â”‚
â”‚  # Application                                                 â”‚
â”‚  NEXT_PUBLIC_API_URL=http://localhost:3000                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Ciclo de Vida de um Clique (Sequence)

```
USUÃRIO ABRE /bem-estar
  â”‚
  â”œâ”€â–º app/layout.tsx carrega
  â”‚   â”œâ”€â–º GTM script injetado (dataLayer criada)
  â”‚   â””â”€â–º Meta Pixel script injetado (fbq criada)
  â”‚
  â”œâ”€â–º ProductCard renderiza (Framer Motion inicia)
  â”‚   â”œâ”€â–º animation: opacity 0â†’1, y: 20â†’0
  â”‚   â””â”€â–º generateSocialProof() cria "18+ pediram"
  â”‚
  â””â”€â–º fbq('track', 'PageView') disparado
      â””â”€â–º Meta Ads Manager registra visualizaÃ§Ã£o

USUÃRIO VISUALIZA PRODUTO (clica no card)
  â”‚
  â”œâ”€â–º handleViewClick() executado
  â”‚   â”œâ”€â–º trackViewContent() disparado
  â”‚   â”‚   â”œâ”€â–º gtag('event', 'view_item', {...})
  â”‚   â”‚   â””â”€â–º fbq('track', 'ViewContent', {...})
  â”‚   â””â”€â–º onViewProduct() callback (opcional)
  â”‚
  â””â”€â–º Dados aparecem em:
      â”œâ”€â–º Google Analytics 4 (em 4-24h)
      â”œâ”€â–º Meta Ads Manager (em tempo real)
      â””â”€â–º Chrome DevTools Console

USUÃRIO CLICA "ADICIONAR" (Add to Cart)
  â”‚
  â”œâ”€â–º handleAddClick() executado
  â”‚   â”œâ”€â–º handleTrackClick() disparado
  â”‚   â”‚   â”œâ”€â–º trackAddToCart() executado
  â”‚   â”‚   â”‚   â”œâ”€â–º gtag('event', 'add_to_cart', {...})
  â”‚   â”‚   â”‚   â”‚   â””â”€â–º GA4 registra conversÃ£o
  â”‚   â”‚   â”‚   â””â”€â–º fbq('track', 'AddToCart', {...})
  â”‚   â”‚   â”‚       â””â”€â–º Meta reconhece como "intent to buy"
  â”‚   â”‚   â”‚
  â”‚   â”‚   â””â”€â–º buildUtmLink() constrÃ³i URL
  â”‚   â”‚       â””â”€â–º utm_source=hnk_food_stack
  â”‚   â”‚           utm_medium=mobile_app
  â”‚   â”‚           utm_campaign=churrascaria_bem_estar
  â”‚   â”‚           utm_content=fraldinha
  â”‚   â”‚
  â”‚   â”œâ”€â–º Motion animation: whileTap={{ scale: 0.95 }}
  â”‚   â””â”€â–º onAddToCart() dispara
  â”‚       â””â”€â–º useCart.addItem() â†’ Zustand store
  â”‚           â””â”€â–º localStorage sincronizado
  â”‚
  â””â”€â–º Dados aparecem em:
      â”œâ”€â–º Google Analytics 4 (conversÃ£o registrada)
      â”œâ”€â–º Meta Ads Manager (retargeting trigger)
      â””â”€â–º Chrome DevTools Network (UTM params)
```

---

## ğŸ“Š IntegraÃ§Ã£o com Ferramentas

```
HNK Food Stack App
â”‚
â”œâ”€â–º Google Tag Manager (GTM)
â”‚   â”œâ”€â–º Container Script (app/layout.tsx)
â”‚   â”œâ”€â–º dataLayer (window.dataLayer)
â”‚   â””â”€â–º Tags (GA4, Google Ads, Custom)
â”‚
â”œâ”€â–º Google Analytics 4 (GA4)
â”‚   â”œâ”€â–º Events: page_view, view_item, add_to_cart
â”‚   â”œâ”€â–º Properties: item_id, item_name, value, currency
â”‚   â””â”€â–º Reports: ConversÃ£o, Comportamento, AquisiÃ§Ã£o
â”‚
â”œâ”€â–º Meta Business Suite
â”‚   â”œâ”€â–º Pixel Script (app/layout.tsx)
â”‚   â”œâ”€â–º Events: PageView, ViewContent, AddToCart
â”‚   â”œâ”€â–º Audience Sync: Retargeting, Lookalike
â”‚   â””â”€â–º Ads Manager: Campanha automÃ¡tica
â”‚
â””â”€â–º Google Ads
    â”œâ”€â–º Conversion Tracking (via GTM)
    â”œâ”€â–º Audience (GA4 sync)
    â”œâ”€â”€â”€ Remarketing (Pixel)
    â””â”€â–º Performance Max (automÃ¡tica)
```

---

## âœ… Status da Arquitetura

- âœ… Frontend: ProductCard com Framer Motion
- âœ… Analytics: GTM + Meta Pixel conectados
- âœ… UTM Builder: AutomÃ¡tico em todas as conversÃµes
- âœ… Eventos: Duplo rastreamento (GA4 + Meta)
- âœ… Environment: VariÃ¡veis configurÃ¡veis
- â³ Backend: Supabase (prÃ³xima fase)
- â³ Payment: Mercado Pago (prÃ³xima fase)
- â³ API Events: Event Matching (prÃ³xima fase)

---

**VersÃ£o**: 2.0
**Status**: Production Ready âœ…
**Data**: 2024
